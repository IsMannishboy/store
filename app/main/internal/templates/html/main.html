<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>{{ .title }}</title>
    <script src="/main.js"></script>
    <meta id="csrf" content="{{.csrf}}">
</head>
<body>
    <h1>{{ .title }}</h1>
    <div id="products">
        {{ if .Products }}
            {{ range .Categories }}
                <h2>{{ .Name }}</h2>
                {{ $catName := .Name }}
                {{ range $.Products }}
                    {{ if eq .Category $catName }}
                        <div class="product" data-id="{{ .ID }}">
                            <h2>{{ .Name }}</h2>
                            <p>Price: ${{ .Price }}</p>
                            <p>{{ .Description }}</p>
                        </div>
                    {{ end }}
                {{ end }}
            {{ end }}
        {{ else }}
            <h1>empty store</h1>
        {{ end }}
    </div>

    <h3>Cart:</h3>
    <ul id="cart"></ul>
</body>
</html>
